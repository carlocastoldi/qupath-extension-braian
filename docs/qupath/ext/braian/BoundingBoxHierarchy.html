<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>BoundingBoxHierarchy (qupath-extension-braian 1.1.1-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: qupath.ext.braian, class: BoundingBoxHierarchy">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">qupath.ext.braian</a></div>
<h1 title="Class BoundingBoxHierarchy" class="title">Class BoundingBoxHierarchy</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">qupath.ext.braian.BoundingBoxHierarchy</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">BoundingBoxHierarchy</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">The class <code>BoundingBoxHierarchy</code> is data structure that helps in searching for specific
 <code>PathObject</code> based on their shape and in logarithmic time to the total number
 of object stored. The cost is paid at construction time, but it should be worth it if the look-up
 operation is performed at least two times.
 <p>
 <code>BoundingBoxHierarchy</code> was build targeting images with lots (1000+) of
 <code>PathDetectionObject</code>, but works with all <code>PathObject</code>.
 <p>
 For more information check <a href="https://en.wikipedia.org/wiki/Bounding_volume_hierarchy">Bounding volume hierarchy</a>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.util.Collection)" class="member-name-link">BoundingBoxHierarchy</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends qupath.lib.objects.PathObject&gt;&nbsp;objects)</code></div>
<div class="col-last even-row-color">
<div class="block">Builds a top-down <a href="https://en.wikipedia.org/wiki/Bounding_volume_hierarchy">BVH</a> of maximum 6 levels
 of hierarchy.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.util.Collection,int)" class="member-name-link">BoundingBoxHierarchy</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends qupath.lib.objects.PathObject&gt;&nbsp;objects,
 int&nbsp;maxDepth)</code></div>
<div class="col-last odd-row-color">
<div class="block">Builds a top-down <a href="https://en.wikipedia.org/wiki/Bounding_volume_hierarchy">BVH</a></div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#contains(qupath.lib.objects.PathObject)" class="member-name-link">contains</a><wbr>(qupath.lib.objects.PathObject&nbsp;object)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/geom/Rectangle2D.html" title="class or interface in java.awt.geom" class="external-link">Rectangle2D</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBox()" class="member-name-link">getBox</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a rectangle in which all objects' ROI are inside</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDepth()" class="member-name-link">getDepth</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Compute the BoundingBoxHierarchy's maximum depth</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>qupath.lib.objects.PathObject</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOverlappingObject(qupath.lib.objects.PathObject)" class="member-name-link">getOverlappingObject</a><wbr>(qupath.lib.objects.PathObject&nbsp;object)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the object in the hierarchy whose centroid:
 
   is inside the specified <code>object</code>
         is the closest to the specified <code>object</code>'s centroid
 
 It follows <code>ROI.contains(double, double)</code> definition of <i>insideness</i> for
 determining the overlap.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;qupath.lib.objects.PathObject&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOverlappingObjectIfPresent(qupath.lib.objects.PathObject)" class="member-name-link">getOverlappingObjectIfPresent</a><wbr>(qupath.lib.objects.PathObject&nbsp;object)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the object in the hierarchy whose centroid:
 
   is inside the specified <code>object</code>
         is the closest to the specified <code>object</code>'s centroid
 
 It follows <code>ROI.contains(double, double)</code> definition of <i>insideness</i> for
 determining the overlap.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEmpty()" class="member-name-link">isEmpty</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a><wbr>&lt;qupath.lib.objects.PathObject&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toStream()" class="member-name-link">toStream</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Visits each element of the hierarchy and outputs all the objects contained as <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link"><code>Stream</code></a>.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.util.Collection)">
<h3>BoundingBoxHierarchy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BoundingBoxHierarchy</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends qupath.lib.objects.PathObject&gt;&nbsp;objects)</span></div>
<div class="block">Builds a top-down <a href="https://en.wikipedia.org/wiki/Bounding_volume_hierarchy">BVH</a> of maximum 6 levels
 of hierarchy.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>objects</code> - the given objects to insert into the hierarchy</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.util.Collection,int)">
<h3>BoundingBoxHierarchy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BoundingBoxHierarchy</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends qupath.lib.objects.PathObject&gt;&nbsp;objects,
 int&nbsp;maxDepth)</span></div>
<div class="block">Builds a top-down <a href="https://en.wikipedia.org/wiki/Bounding_volume_hierarchy">BVH</a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>objects</code> - the given objects to insert into the hierarchy</dd>
<dd><code>maxDepth</code> - the maximum depth that that hierarchy can have.
                 Below maxDepth, the recursive structure stops and lists all the remaining objects</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getOverlappingObject(qupath.lib.objects.PathObject)">
<h3>getOverlappingObject</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">qupath.lib.objects.PathObject</span>&nbsp;<span class="element-name">getOverlappingObject</span><wbr><span class="parameters">(qupath.lib.objects.PathObject&nbsp;object)</span></div>
<div class="block">Retrieves the object in the hierarchy whose centroid:
 <ul>
   <li>is inside the specified <code>object</code></li>
         <li>is the closest to the specified <code>object</code>'s centroid</li>
 </ul>
 It follows <code>ROI.contains(double, double)</code> definition of <i>insideness</i> for
 determining the overlap. Which, in turn, relies on <code>Geometry.contains(Geometry)</code>
 and <a href="https://en.wikipedia.org/wiki/DE-9IM">DE-9IM</a> intersection matrix.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>object</code> - the object to search the overlap for</dd>
<dt>Returns:</dt>
<dd>the closest PathObject in the hierarchy, or null if there is no overlap</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><code>ROI.getCentroidX()</code></li>
<li><code>ROI.getCentroidY()</code></li>
<li><a href="#getOverlappingObjectIfPresent(qupath.lib.objects.PathObject)"><code>getOverlappingObjectIfPresent(PathObject)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contains(qupath.lib.objects.PathObject)">
<h3>contains</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">contains</span><wbr><span class="parameters">(qupath.lib.objects.PathObject&nbsp;object)</span></div>
</section>
</li>
<li>
<section class="detail" id="getOverlappingObjectIfPresent(qupath.lib.objects.PathObject)">
<h3>getOverlappingObjectIfPresent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;qupath.lib.objects.PathObject&gt;</span>&nbsp;<span class="element-name">getOverlappingObjectIfPresent</span><wbr><span class="parameters">(qupath.lib.objects.PathObject&nbsp;object)</span></div>
<div class="block">Retrieves the object in the hierarchy whose centroid:
 <ul>
   <li>is inside the specified <code>object</code></li>
         <li>is the closest to the specified <code>object</code>'s centroid</li>
 </ul>
 It follows <code>ROI.contains(double, double)</code> definition of <i>insideness</i> for
 determining the overlap. Which, in turn, relies on <code>Geometry.contains(Geometry)</code>
 and <a href="https://en.wikipedia.org/wiki/DE-9IM">DE-9IM</a> intersection matrix.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>object</code> - the object to search the overlap for</dd>
<dt>Returns:</dt>
<dd>the closest PathObject in the hierarchy as an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><code>ROI.getCentroidX()</code></li>
<li><code>ROI.getCentroidY()</code></li>
<li><a href="#getOverlappingObject(qupath.lib.objects.PathObject)"><code>getOverlappingObject(PathObject)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEmpty()">
<h3>isEmpty</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEmpty</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if there are no <code>PathObject</code> inside</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toStream()">
<h3>toStream</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;qupath.lib.objects.PathObject&gt;</span>&nbsp;<span class="element-name">toStream</span>()</div>
<div class="block">Visits each element of the hierarchy and outputs all the objects contained as <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link"><code>Stream</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the stream of all saved objects</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBox()">
<h3>getBox</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/geom/Rectangle2D.html" title="class or interface in java.awt.geom" class="external-link">Rectangle2D</a></span>&nbsp;<span class="element-name">getBox</span>()</div>
<div class="block">Returns a rectangle in which all objects' ROI are inside</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the bounding box of all objects</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDepth()">
<h3>getDepth</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getDepth</span>()</div>
<div class="block">Compute the BoundingBoxHierarchy's maximum depth</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the maximum depth of the hierarchy. Returns -1 if the BoundingBoxHierarchy is empty.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
